<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>轻简起始页</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* 通用样式 */
        body,
        html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Arial', sans-serif;
            color: white;
            text-align: center;
            display: flex;
            justify-content: center;
            user-select: none;
            /* 水平 */
            align-items: center;
            /* 垂直居中 */
            flex-direction: column;
            background-image: url('https://sysyz-itcom.github.io/start/img/background7.webp');
            /* 背景图 */
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            height: 100vh;
            /* 让背景图填满整个视口 */
            width: 100%;
            transition: background-image 1s ease;
        }

        .container {
            margin-top: -180px;
            /* 根据需要调整上边距 */
        }

        /* 搜索框模糊效果 */
        .search-box {
            position: relative;
            margin-bottom: 20px;
        }

        .search-input {
            width: 100%;
            padding: 12px;
            font-size: 1.2rem;
            border: none;
            border-radius: 25px;
            outline: none;
            background: rgba(255, 255, 255, 0.6);
            /* 背景半透明 */
            color: #333;
            box-sizing: border-box;
            backdrop-filter: blur(10px);
            /* 高斯模糊 */
            -webkit-backdrop-filter: blur(10px);
            /* 兼容Safari */
        }

        /* 时钟样式 */
        .clock {
            font-size: 5rem;
            font-weight: bold;
            /* 加粗字体 */
            font-family: 'Comic Sans MS', cursive, sans-serif;
            /* 圆体字体 */
            margin-bottom: 20px;
        }

        /* 按钮样式 */
        .bilibili-btn {
            background: #00A1D6;
            padding: 15px 25px;
            color: white;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .bilibili-btn:hover {
            background-color: #0096B5;
        }

        /* 响应式设计：适配不同设备 */
        @media (max-width: 768px) {
            .clock {
                font-size: 2.5rem;
            }

            .search-input {
                font-size: 1rem;
            }

            .bilibili-btn {
                padding: 12px 20px;
                font-size: 1rem;
            }
        }

        @media (max-width: 480px) {
            .clock {
                font-size: 2rem;
            }

            .search-input {
                font-size: 0.9rem;
            }

            .bilibili-btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="clock" id="clock">00:00:00</div>
        <div class="search-box">
            <input type="text" id="search" class="search-input" placeholder="搜索...">
        </div>
        <button class="bilibili-btn" onclick="window.open('https://www.bilibili.com', '_blank')">
            <i class="fab fa-bilibili"></i>
        </button>
    </div>

    <script>
        // 实时更新时间函数
        function updateTime() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            document.getElementById('clock').textContent = `${hours}:${minutes}:${seconds}`;
        }

        // 页面加载时调用函数
        window.onload = function () {
            setInterval(updateTime, 1000);
        };

        document.addEventListener("DOMContentLoaded", function () {
            // 获取输入框和按钮元素
            const searchInput = document.getElementById("search");
            const searchButton = document.getElementById("search-btn");

            // 监听回车键事件（即按下回车时触发搜索）
            searchInput.addEventListener("keypress", function (event) {
                if (event.key === "Enter") {
                    triggerSearch(searchInput.value);
                }
            });

            // 监听按钮点击事件
            // searchButton.addEventListener("click", function () {
            //     triggerSearch(searchInput.value);
            // });

            // 定义触发搜索的函数
            function triggerSearch(query) {
                if (query.trim() !== "") {
                    // 如果输入框中有内容，进行搜索操作
                    window.location.href = `https://www.bing.com/search?q=${encodeURIComponent(query)}`;
                } else {
                    alert("请输入搜索内容！");
                }
            }
        });

        document.addEventListener('contextmenu', function (e) {
            e.preventDefault(); // 阻止右键菜单显示
        });

        // 页面加载时执行
        window.onload = function () {
            // 获取 JSON 文件中的版本信息
            fetch('https://sysyz-itcom.github.io/update/exe/browser.json')
                .then(response => response.json())  // 将响应解析为 JSON
                .then(data => {
                    // 假设 JSON 文件结构如下: { "version": 1 }
                    if (data.version === "1") {
                        // 如果 version 为 1，弹出提示并跳转
                        if (confirm('【更新检查】\n检测到新版本，请点击确认，然后我们将为您安装。\n\n【提示：如果您现在还不想更新，请点击取消。】')) {
                            // 用户点击"确定"后跳转到指定页面
                            window.location.href = 'https://sysyz-itcom.github.io/update/exe/download/browser.EXE';
                        }
                    }
                    // 如果 version 是 0 或其他值，不做任何操作
                })
                .catch(error => {
                    // 处理错误，例如网络问题或无法获取 JSON 文件
                    console.error('Error fetching the JSON file:', error);
                });
        };
    </script>
</body>

</html>
